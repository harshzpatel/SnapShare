# SnapShare - Social Media Platform

A modern, feature-rich social media app built with Flutter and Firebase. Share moments, chat in real time, and get instant notifications — all in a polished, fast experience.

## 🚀 Features

### Authentication
- Email/password sign up and login (Firebase Auth)
- Profile: avatar upload, username, bio

### Social
- Photo posts with captions (Firebase Storage + Firestore)
- Feed and post details
- Likes and comments
- Profiles with stats
- Follow/unfollow
- User search

### Messaging & Notifications
- 1:1 real-time chat (Firestore)
- Push notifications (Firebase Cloud Messaging)
- Local notifications with round avatar and MessagingStyle
- Deep-link to ChatScreen when tapping a notification
- Suppress notifications when the active chat is open
- Background/terminated handling implemented

### UI/UX
- Smooth animations and transitions
- Material 3-inspired dark theme
- Google Fonts, SVG icons, responsive layouts

## 🛠 Tech Stack
- Flutter (Dart)
- Firebase: Auth, Firestore, Storage, Cloud Messaging, Cloud Functions (Python)
- Local notifications: flutter_local_notifications
- State management: Provider

## 📦 Key Dependencies
- firebase_core, firebase_auth, cloud_firestore, firebase_storage
- firebase_messaging, flutter_local_notifications
- provider, image_picker, google_fonts, flutter_svg
- transparent_image, flutter_staggered_grid_view, timeago, uuid
- http, path_provider

See pubspec.yaml for versions.

## 🏗 Project Structure

```
lib/
├── core/                 # Theme, utils
│   ├── theme.dart
│   └── utils.dart
├── models/               # User, Post, Message models
│   ├── user.dart
│   ├── post.dart
│   └── message.dart
├── providers/            # State management
│   └── user_provider.dart
├── screens/              # UI screens
│   ├── login_screen.dart
│   ├── home_screen.dart
│   ├── feed_screen.dart
│   ├── add_post_screen.dart
│   ├── comment_screen.dart
│   ├── chat_users_screen.dart
│   ├── chat_screen.dart
│   └── notification_screen.dart
├── services/             # App services / Firebase APIs
│   ├── auth_methods.dart
│   ├── firestore_methods.dart
│   ├── storage_methods.dart
│   ├── chat_service.dart
│   ├── notification_service.dart
│   └── chat_state.dart
├── firebase_options.dart # Generated by FlutterFire
└── widgets/              # Reusable UI components

functions/                # Cloud Functions (Python)
├── main.py
└── requirements.txt
```

### Notable Files
- lib/services/chat_service.dart — Chat send/stream logic (chats/{chatId}/messages)
- lib/services/notification_service.dart — FCM registration, token storage, local notifications, deep-links
- lib/main.dart — App init, FCM background handler, navigation on notification
- functions/main.py — Firestore trigger to fan-out FCM notifications for new messages

## 🔔 How notifications work
- On app start, NotificationService requests permission, fetches FCM token, and stores it under users/{uid}/tokens/{token}
- When a message is sent, the Cloud Function looks up receiver tokens and sends a data-only FCM
- Foreground: app shows a styled local notification with the sender’s avatar
- Background/terminated: tapping the notification deep-links to ChatScreen
- If you’re already chatting with that user, notifications are suppressed

## 📱 Screenshots

![Users](https://github.com/user-attachments/assets/ca2b0a2f-8ec8-402e-ac55-3e155b09d3b8)
![Sign Up](https://github.com/user-attachments/assets/9598786e-9cc6-46c1-9034-0532ffb79ec6)
![Search](https://github.com/user-attachments/assets/f1b2497a-21de-4007-ab4b-54c729fb23b9)
![Profile](https://github.com/user-attachments/assets/d502dd41-230e-460d-b560-6deeeaf25d7a)
![Login](https://github.com/user-attachments/assets/709789ca-0434-496e-abcc-51e52db02724)
![Feed](https://github.com/user-attachments/assets/33bff8ac-c6ab-46d4-adcf-0a8b01bde3be)
![Create Post](https://github.com/user-attachments/assets/56fe79c4-9cd8-49b7-8c7f-2fd8fc19cf1b)
![Comments](https://github.com/user-attachments/assets/42e11748-888c-4184-a309-e99f6a0ba71b)
![Chat](https://github.com/user-attachments/assets/c8325667-097c-42cc-aec8-652257cfd5e9)
![New Post](https://github.com/user-attachments/assets/6729ef6b-a89c-4ec6-b0c7-185dd030d04f)
![Like Animation](https://github.com/user-attachments/assets/ec8921f7-42df-406d-be0d-9a923a60755a)
